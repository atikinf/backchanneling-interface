<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  <body>
    <div id="container">
      <br />

      <h2>Data Collection Interface</h2>

      <br />

      <div class="row">
        <div class="col-md-4">
          <div class="input-group"> 
            <input type="text" class="form-control" id="room-number-input" placeholder="Enter a Room # (Default: 1)" aria-label="Room Number">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary" type="button" id="join-room-button">Join Room</button>
            </div>
          </div>
    
          <br />
    
          <div class="recording-block row collapse">
            <div class="col-12">
              <button type="button" class="btn btn-primary btn-block" id="btn-start-recording">Start Recording</button>
            </div>
          </div>
    
          <br />

          <div class="recording-block row collapse">
            <div class="col-12">
              <button type="button" class="btn btn-primary btn-block" id="btn-stop-recording" disabled>Stop Recording</button>
            </div>
          </div>

          <br />
    
          <div class="row download-block collapse">
            <div class="col-12">
              <a role="button" class="btn btn-primary btn-block disabled" id="btn-download-recording">Download Recording</a>
            </div>
          </div>
    
          <div class="progress download-block collapse">
            <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" id="progress-bar">
              0%
            </div>
          </div>
        </div>

        <div class="col-md-8">
          <div class="videos-block">
            <div id="your-video-container">
              <div id="overlay-container" style="display: none;">
                <img src="images/HeadDottedOutline.png" id="video-overlay">
              </div>
              <div class="video-container">
                <video id="your-video" autoplay muted playsinline></video>
              </div>
            </div>
            <div id="friends-video-container">
              <div class="video-container">
                <video id="friends-video" autoplay playsinline></video>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- <script src="https://cdn.socket.io/socket.io-1.0.0.js"></script> -->
      <script src="/socket.io/socket.io.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/RecordRTC/5.6.1/RecordRTC.js"></script>
      <script src="scripts/jszip/dist/jszip.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/async@3.2.0/dist/async.min.js"></script>
      <script>
        function SaveAsFile(t,f,m) {
          try {
              var b = new Blob([t],{type:m});
              saveAs(b, f);
          } catch (e) {
              window.open("data:"+m+"," + encodeURIComponent(t), '_blank','');
          }
        }
      </script>  
      <script src="client.js"></script>
    </div>
  </body>
</html>
